<form id="commentForm">
    <input name="name" type="text" placeholder="Your name">
    <textarea name="comment" placeholder="Your comment" required></textarea>
    <input name="slug" type="hidden" value="my-article-slug">
    <button type="submit">Submit</button>
</form>

<script>
    document.getElementById("commentForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const data = Object.fromEntries(new FormData(e.target).entries());

        const res = await fetch("https://twistandsmile-comment.delicate-queen-35a1.workers.dev/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
        });

        if (res.ok) {
            alert("Comment submitted and awaiting moderation!");
            e.target.reset();
        } else {
            alert("Error submitting comment.");
        }
    });
</script>
